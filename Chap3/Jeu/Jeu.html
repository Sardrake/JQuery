<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Jeu JQuery</title>
    <style>
    #jeu {
      width: 400px;
      height: 400px;
      border: 2px black solid;
      position: relative;
      }

    .fond{
      margin-bottom: -5px;
      z-index: 10;
      position: relative;
    }

    #vj {
      z-index: 100;
      position: absolute;
      top: 10px;
      left: 48px;
    }

    #vr {
      z-index: 80;
      position: absolute;
      top: -200px;
      left: 0px;
    }

    </style>

  </head>
  <body>
    
    Collisions : <span id="info">0</span>

    <div id="jeu"> 
      <img id="fond1" class="fond" src="route.png">
      <img id="fond2" class="fond" src="route.png">
      <img id="vj" src="vj.png">
      <img id="vr" src="vr.png">
    </div>

    <script src="jquery.js"></script>
    <script>
      $(function() {

        // animation route et voiture rouge
        function deplace()
          {
            //anim voiture rouge
            $('#vr').animate({top: '-=600'}, 2500, 'linear', function() {
              var vrX = Math.floor(Math.random()*194)+70;
              var vrY = 400;
              $('#vr').css('top',vrY);
              $('#vr').css('left',vrX);
            });

            // anim route
            $('.fond').animate({top: '-=360'},1000,'linear',function(){
              $('.fond').css('top', 0);
              deplace();
            });
          };

          // d√©placement voiture jaune
        $(document).keydown(function(e) {
          if (e.which == 39) {
            vjX = parseInt($('#vj').css('left'));
            if (vjX<280) $('#vj').css('left',vjX+30);
          }
          if (e.which == 37) {
            vjX = parseInt($('#vj').css('left'));
            if (vjX>70) $('#vj').css('left', vjX-30);
          }
        });

        function collision()
        {
          vjX = parseInt($('#vj').css('left'));
          vrX = parseInt($('#vr').css('left'));
          vjY = 10;
          vrY = parseInt($('#vr').css('top'));
          if (((vrX > vjX) && (vrX < (vjX+66)) && (vrY > (vjY+120)) && (vrY < (vjT+150)) && (ok == 1))
            || ((vrX2 > vjX) && (vrX2 < (vjX+66)) && (vrY > (vjY+120)) && (vrY < (vjY+150)) && (ok == 1)))
          {
            collision = parseInt($('#info').text()) + 1;
            $('#info').text(collision);
            ok = 0;
          }
        }

      deplace();

      });

    </script> 
  </body>
</html>
